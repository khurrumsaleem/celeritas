{
  "version": 3,
  "cmakeMinimumRequired": {"major": 3, "minor": 21, "patch": 0},
  "configurePresets": [
    {
      "name": ".base",
      "hidden": true,
      "inherits": ["full"],
      "binaryDir": "$env{SCRATCHDIR}/build/celeritas-${presetName}",
      "generator": "Ninja",
      "cacheVariables": {
        "BUILD_SHARED_LIBS":     {"type": "BOOL", "value": "ON"},
        "CELERITAS_BUILD_DOCS":  {"type": "BOOL", "value": "OFF"},
        "CELERITAS_USE_CUDA":    {"type": "BOOL", "value": "OFF"},
        "CELERITAS_USE_HIP":     {"type": "BOOL", "value": "OFF"},
        "CELERITAS_USE_covfie":  {"type": "BOOL", "value": "OFF"},
        "CELERITAS_USE_OpenMP":  {"type": "BOOL", "value": "ON"},
        "CELERITAS_USE_MPI":     {"type": "BOOL", "value": "OFF"},
        "CELERITAS_USE_VecGeom": {"type": "BOOL", "value": "OFF"},
        "CMAKE_CXX_FLAGS": "-Wall -Wextra -pedantic -Werror -fdiagnostics-color=always",
        "CMAKE_CXX_STANDARD": "17",
        "CMAKE_CXX_EXTENSIONS": {"type": "BOOL", "value": "OFF"},
        "CMAKE_EXE_LINKER_FLAGS": "-Wl,-z,defs",
        "CMAKE_SHARED_LINKER_FLAGS": "-Wl,-z,defs",
        "CMAKE_INSTALL_PREFIX": "$env{SCRATCHDIR}/install/celeritas-${presetName}",
        "CMAKE_EXPORT_COMPILE_COMMANDS": {"type": "BOOL", "value": "ON"}
      }
    },
    {
      "name": "release-orange",
      "displayName": "Build with full optimizations (ORANGE)",
      "inherits": [".base", ".ndebug"],
      "cacheVariables": {
      }
    },
    {
      "name": "reldeb-orange",
      "displayName": "Build with optimizations, but enable host debugging (ORANGE)",
      "inherits": [".base", ".reldeb"],
      "cacheVariables": {
        "CELERITAS_USE_VecGeom": {"type": "BOOL", "value": "OFF"}
      }
    },
    {
      "name": "debug-orange",
      "displayName": "Build without optimization, enabling full host debugging (ORANGE)",
      "inherits": [".base", ".debug"],
      "cacheVariables": {
        "CELERITAS_DEVICE_DEBUG":{"type": "BOOL", "value": "OFF"},
        "CELERITAS_USE_VecGeom": {"type": "BOOL", "value": "OFF"}
      }
    }
  ],
  "buildPresets": [
    {
      "name": ".base",
      "configurePreset": ".base",
      "jobs": 24,
      "nativeToolOptions": ["-k0"]
    },
    {"name": "release-orange", "configurePreset": "release-orange", "inherits": ".base"},
    {"name": "reldeb-orange", "configurePreset": "reldeb-orange", "inherits": ".base"},
    {"name": "debug-orange", "configurePreset": "debug-orange", "inherits": ".base"}
  ],
  "testPresets": [
    {
      "name": ".base",
      "configurePreset": ".base",
      "output": {"outputOnFailure": true},
      "execution": {"noTestsAction": "error", "stopOnFailure": false, "jobs": 24}
    },
    {"name": "release-orange", "configurePreset": "release-orange", "inherits": ".base"},
    {"name": "reldeb-orange", "configurePreset": "reldeb-orange", "inherits": ".base"},
    {"name": "debug-orange", "configurePreset": "debug-orange", "inherits": ".base"}
  ]
}
