spack:
  specs:
    # Packages required for a *truly minimal* build
    - cli11
    - cmake
    - nlohmann-json
    # ... plus packages required for *basic* realistic development
    - "geant4@11"
    - git
    - "googletest@1.10:"
    - py-pre-commit
    - "python@3.9:"
    # ... plus *recommended* options
    - "covfie@0.13:"
    - "g4vg@1.0.3:"
    - hepmc3
    - libpng
    - ninja
    - "root@6.28:"
    - "vecgeom@1.2.10:1 +gdml"
    # ... plus additional documentation tools
    - doxygen
    - git-lfs
    - py-breathe
    - py-furo
    - py-sphinx
    - py-sphinxcontrib-bibtex
    # ... plus experimental options
    - mpi
  view: true
  concretizer:
    unify: true
  packages:
    root:
      # Note: dd4hep requires +gsl+math
      # ROOT here is built without GUI to reduce build time
      variants: ~aqua ~davix ~examples ~opengl ~x ~tbb
    all:
      require:
      # Note: C++17 is the minimum required but we'll default to C++20
      - any_of: [cxxstd=20, '@:']
      - any_of: [build_system=cmake, '@:']
      - any_of: [build_type=Release, '@:']
      # Note: for CUDA support run this command in your environment:
      # spack config add packages:all:variants:"+cuda cuda_arch=<ARCH>"
